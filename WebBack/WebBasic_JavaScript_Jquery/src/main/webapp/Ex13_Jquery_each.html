<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        /*
        $(function(){
            
        });
        */
       function scriptFunc(){
        const arrayobj = [];

        /*
        101th 홍길동 10
        102th 김유신 20
        103th 유관순 30

        객체 배열 형태로
        [{}, {}, {}]
        ex) {th: 101th, name: 홍길동, age: 10} 형식 객체
        arrayobj.push{{}};

        */

        $('table > tbody > tr').each(function(index, element){
            // console.log(element);
            // console.log($(element).children().eq(0).text());
            arrayobj.push(
                {
                    th:$(element).children().eq(0).text(),
                    name:$(element).children().eq(1).text(),
                    age:$(element).children().eq(2).text(),
                }
            );
            console.log(arrayobj);
        });
        //2. 결과 배열을 순수한 javascript for 문을 통해서 출력해라(일반 for문으로)
        //그 결과를 display에 append 시켜라
        let output="";
         for(let i = 0 ; i < arrayobj.length ;i++){
            output+= arrayobj[i].th + "," + 
                     arrayobj[i].name + "," + 
                     arrayobj[i].age +"<br>";
         }
         
         $('#display').append(output);
        

        //3. 결과 배열을 javascript 개선된 for문 (console.log())
        for(let index in arrayobj){
            console.log(arrayobj[index].th);
            console.log(arrayobj[index].name);
            console.log(arrayobj[index].age);

        //4. jquery each문을 통해서 출력해라
        //그 결과를 display2에 append 시켜라
        $.each(arrayobj, function(index, obj){
            $('#display2').append(obj.th + "," + obj.name + " , " + obj.age + "<br>");
        });

       }
    }
    </script>

</head>
<body>
    <table>
		<thead>
			<tr>
				<td>기수</td><td>이름</td><td>번호</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>101th</td><td>홍길동</td><td>10</td>
			</tr>
			<tr>
				<td>102th</td><td>김유신</td><td>20</td>
			</tr>
			<tr>
				<td>103th</td><td>유관순</td><td>30</td>
			</tr>
            <tr>
				<td>104th</td><td>노다영</td><td>23</td>
			</tr>
            <tr>
				<td>105th</td><td>Jalil</td><td>21</td>
			</tr>
		</tbody>
	</table>
	<p>
		<button onclick="scriptFunc()">함수호출</button>
	</p>
	<div id="display"></div>
	<div id="display2"></div>
    
</body>
</html>